{% extends 'navbar.html.twig' %}

{% block title %}Hello EncounterController!
{% endblock %}

{% block body %}
	<div data-controller="encounter">
		<div class="container encounter-menu">
			<div class="row">
				<div class="col-md-12">
					<div class="btn-group btn-group-justified" role="group" aria-label="...">
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-default" data-action="encounter#start">Start</button>
						</div>
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-default" data-action="encounter#stop">Stop</button>
						</div>
						<div class="btn-group" role="group">
							<button type="button" class="btn btn-default" data-action="encounter#reset">Reset</button>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12 encounter-timer">
					<h1 class="text-center" data-target="encounter.turn">Turn count : / {# turnCount #}</h1>
				</div>
			</div>


            {# tableau listant les character et monsters #}
            <div class="container encounter-list">
                <table class="table table-striped">
                    <thead>
                        <th>Name</th>
                        <th>HP</th>
                        <th>AC</th>
                        <th>Initiative</th>
                    </thead>
                    <tbody>
                        {% for unit in units %}
                        <tr>
                            <td>{{ unit.name }}</td>
                            <td>{{ unit.hp }}</td>
                            <td>{{ unit.ac }}</td>
                            {% if unit.initiative == null %}
                            <td><input type="number" name="initiative" id="initiative" min="0" max="100" value="0"></td>
                            {% else %}
                            <td><input type="number" name="initiative" id="initiative" min="0" max="100" value="{{ unit.initiative }}"></td>
                            {% endif %}

                        </tr>
                        {% endfor %}



                        
                        {# <td>Character 1</td>
                        <td>10</td>
                        <td>15</td>
                        <td>15</td> #}
                    </tbody>
                </table>
            </div>
                
                {# ---------------------------------------------------- #}
                {# tableau listant les character et monsters #}




            
            {# ---------------------------------------------------- #}
            {# actions pour init l'encounter #}
			<div class="container encounter-footer-menu">
                <div class="row">
                    <div class="col-md-12">
                        <div class="btn-group btn-group-justified" role="group" aria-label="...">
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-default" data-action="encounter#add">Add unit</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-default" data-action="encounter#clear">Clear List</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-default" data-action="">Save List</button>
                            </div>
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-default" data-action="">Load List</button>
                            </div>

                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-default" data-action="">Roll for NPC initiative</button>
                                <button type="button" class="btn btn-default" data-action="">Roll for PC initiative</button>
                                {# button : order by initiative #}
                                <button type="button" class="btn btn-default" data-action="">Order by initiative</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
		</div>
	{% endblock %}
